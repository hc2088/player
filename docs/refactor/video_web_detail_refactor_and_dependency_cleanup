ä½ é‡åˆ°çš„è¿™ä¸ªç°è±¡æœ¬è´¨ä¸Šæ˜¯ç”±äº **Flutter çš„ç”Ÿå‘½å‘¨æœŸæœºåˆ¶ã€`IndexedStack` çš„ç¼“å­˜ç‰¹æ€§ä»¥åŠ `Get.arguments` æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡** ä¸‰è€…ä¹‹é—´äº¤äº’é€ æˆçš„ã€‚

æˆ‘ä»¬æ¥åˆ†æ­¥éª¤è§£é‡Šæ¸…æ¥šè¿™ä¸ªè¡Œä¸ºå’ŒèƒŒåçš„åŸç†ï¼š

* * *

## âœ… 1. ç°è±¡å›é¡¾

ä½ è¯´çš„æ˜¯ï¼š

-   `HomePage` ç”¨ `IndexedStack` ç¼“å­˜ä¸¤ä¸ªé¡µé¢ï¼š

    -   ç½‘é¡µAï¼ˆ`VideoInAppWebDetailPage`ï¼‰
    -   ä¸‹è½½é¡µ

-   ä»â€œä¸‹è½½é¡µâ€ä¸­ç‚¹å‡»è§†é¢‘åï¼Œé€šè¿‡ `Get.toNamed(...)` è·³è½¬åˆ° **ç½‘é¡µB**ï¼ˆä¹Ÿæ˜¯ `VideoInAppWebDetailPage`ï¼Œä½†åŒ…åœ¨ `FutureBuilder` ä¸­æ„é€ ï¼‰ã€‚

-   åœ¨è·³è½¬çš„è¿‡ç¨‹ä¸­ï¼š

    -   **ç½‘é¡µA** çš„ `didChangeDependencies` è¢«è°ƒç”¨äº†ï¼ˆ`build` ä¹Ÿè¢«è°ƒç”¨ï¼‰
    -   å¹¶ä¸”è·å–çš„ `Get.arguments` æ˜¯ç½‘é¡µBä¼ è¿›æ¥çš„ url

-   ç„¶è€Œï¼Œ**ç½‘é¡µAçš„ç•Œé¢æ²¡æœ‰å˜åŒ–**

-   å…³é—­ç½‘é¡µBè¿”å›æ—¶ï¼š

    -   ç½‘é¡µA çš„ `didChangeDependencies` åˆè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œ`Get.arguments` å˜ä¸º `null`

* * *

## ğŸ” 2. `Get.arguments` æ˜¯**å…¨å±€å˜é‡**

```
Get.toNamed(..., arguments: {'url': xxx});
```

è¿™ä¸ª `arguments` æ˜¯é€šè¿‡ `Get.parameters` å’Œ `Get.arguments` æš‚å­˜çš„ã€‚è€Œ **ä»»ä½•é¡µé¢ä¸­ä½¿ç”¨ `Get.arguments` è®¿é—®è¿™ä¸ªå‚æ•°æ—¶ï¼Œéƒ½ä¼šæ‹¿åˆ°** æœ€æ–°ä¸€æ¬¡ `toNamed` æˆ– `offNamed` è®¾ç½®çš„å‚æ•°ã€‚

è¿™æ„å‘³ç€ï¼šå³ä½¿ä½ **æ²¡æœ‰ä»å½“å‰é¡µé¢è·³è½¬å‡ºå»ï¼Œåªè¦æœ‰å…¶ä»–é¡µé¢è®¾ç½®äº† `Get.arguments`ï¼Œä½ è¿™è¾¹è·å–åˆ°çš„ä¹Ÿæ˜¯æœ€æ–°çš„å‚æ•°**ã€‚

* * *

## âœ… 3. `didChangeDependencies` ä¸ºä½•ä¼šè°ƒç”¨ï¼Ÿ

Flutter æ¡†æ¶åœ¨ä»¥ä¸‹åœºæ™¯ä¼šè§¦å‘ `didChangeDependencies`ï¼š

-   ç¬¬ä¸€æ¬¡ä¾èµ–è¢«æ’å…¥åˆ° widget æ ‘ä¸­
-   `InheritedWidget` å‘ç”Ÿå˜åŒ–
-   `ModalRoute.of(context)` å˜åŒ–ï¼ˆè€Œè¿™å’Œå¯¼èˆªæœ‰å…³ï¼‰
-   è·¯ç”±æ ˆå‘ç”Ÿå˜åŠ¨ï¼Œç‰¹åˆ«æ˜¯å½“ä½¿ç”¨ `Get.toNamed()` è¿™ç§æ“ä½œè·¯ç”±æ—¶ï¼Œæœ‰äº›é¡µé¢ç”±äºå’Œè·¯ç”±ç»‘å®šï¼Œ**å¯èƒ½ä¼šè§¦å‘ rebuild æˆ– dependencies çš„å˜åŒ–**

**å³ä½¿é¡µé¢æ²¡æœ‰è¢« pop æˆ– pushï¼Œä½†å’Œè·¯ç”±æˆ–ä¾èµ–å‘ç”Ÿäº†å˜åŒ–ï¼ŒFlutter éƒ½å¯èƒ½é€šçŸ¥ç›¸å…³ Widget è°ƒç”¨ `didChangeDependencies`ã€‚**

ç”±äºä½ **åœ¨ä¸¤ä¸ªå­é¡µé¢ä¹‹é—´å…±äº«äº†ç»„ä»¶ï¼ˆéƒ½å­˜åœ¨äº IndexedStackï¼‰** ï¼Œå®ƒä»¬æ˜¯**åŒä¸€ä¸ª widget æ ‘çš„ä¸€éƒ¨åˆ†**ã€‚å½“ä½ å¯¼èˆªåˆ°ä¸€ä¸ªæ–°é¡µé¢ï¼ˆç½‘é¡µBï¼‰æ—¶ï¼ŒFlutter ä¼šæ£€æŸ¥å“ªäº› Widget çš„ä¾èµ–å˜äº†ï¼ˆæ¯”å¦‚ `ModalRoute`ï¼‰ï¼Œäºæ˜¯å¯¼è‡´ç½‘é¡µA çš„ `didChangeDependencies` è¢«è°ƒç”¨ã€‚

* * *

## ğŸ§  4. ä¸ºä½•å†…å®¹æ²¡å˜ï¼Ÿ

`IndexedStack` ä¼š**ä¿æŒå­é¡µé¢çŠ¶æ€ä¸é”€æ¯**ï¼ˆä¸åƒ `Stack` æˆ– `Navigator` çš„å­è·¯ç”±ä¼šç§»é™¤ä¸æ´»è·ƒçš„é¡µé¢ï¼‰ï¼Œå› æ­¤ï¼š

-   **ç½‘é¡µA å®é™…ä»ç„¶åœ¨ Widget æ ‘ä¸­**
-   å³ä½¿è°ƒç”¨äº† `didChangeDependencies` å’Œ `build`ï¼Œä½†ä½ ä»£ç ä¸­æ²¡æœ‰ä»»ä½•å’Œ `Get.arguments` æ˜¾å¼ç»‘å®šçš„é€»è¾‘ï¼ˆæ¯”å¦‚ `setState(() => url = Get.arguments['url'])`ï¼‰ï¼Œæ‰€ä»¥å®ƒ**ä¸ä¼šè‡ªåŠ¨æ›´æ–°å†…å®¹**
-   `build` å†æ¬¡æ‰§è¡Œæ—¶ï¼Œå¦‚æœ `url` æ²¡å˜ï¼ŒUI è‡ªç„¶ä¹Ÿä¸å˜

* * *

## âœ… 5. Get.arguments æ˜¯è°åœ¨ç”¨çš„é—®é¢˜

å¦‚æœä½ åœ¨ç½‘é¡µAä¸­ç”¨äº† `final url = Get.arguments['url']` æˆ–ç±»ä¼¼ä»£ç ï¼Œè€Œè¿™ä¸ªå­—æ®µæ²¡æœ‰é€šè¿‡ `setState()` æ›´æ–° stateï¼Œå®ƒå°±æ˜¯â€œå€¼æ‹¿ä¸€æ¬¡â€é€»è¾‘ã€‚å³ä¾¿ `arguments` åæ¥å˜äº†ï¼Œå®ƒä¹Ÿä¸ä¼šè‡ªåŠ¨åˆ·æ–°é¡µé¢ã€‚

* * *

## ğŸ“Œ æ€»ç»“æ ¸å¿ƒåŸå› 

| ç°è±¡                      | åŸå›                                                                 |
| ----------------------- | ----------------------------------------------------------------- |
| ç½‘é¡µA çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•è¢«è°ƒç”¨          | Flutter æ£€æµ‹åˆ°ä¾èµ–å˜åŒ–ï¼ˆå¦‚è·¯ç”±æˆ– inherited widgetï¼‰ï¼Œè°ƒç”¨ `didChangeDependencies` |
| `Get.arguments` å€¼ä¸ºç½‘é¡µBçš„å€¼ | `Get.arguments` æ˜¯å…¨å±€çš„ï¼Œè°è®¾ç½®äº†å°±ä¼šå˜                                      |
| é¡µé¢å†…å®¹æ²¡å˜                  | `IndexedStack` ç¼“å­˜é¡µé¢ï¼Œä¸é‡å»ºï¼›æ²¡æœ‰ç”¨ `setState` æˆ– `Obx` å“åº”å¼ç»‘å®š              |
| ç½‘é¡µA è¢«è°ƒç”¨æ—¶ arguments å˜ç©º   | å› ä¸ºä½  `pop()` æ‰ç½‘é¡µB åï¼ŒGet.arguments æ²¡å€¼äº†                              |

* * *

## âœ… å¦‚ä½•è§£å†³æˆ–ä¼˜åŒ–ï¼Ÿ

### âœ… å¦‚æœä½ æƒ³**ç½‘é¡µAåªç”¨è‡ªå·±çš„ arguments**

è¯·ä¸è¦ç›´æ¥ç”¨ `Get.arguments` ä½œä¸ºé¡µé¢å­—æ®µï¼ˆå°¤å…¶åœ¨ build ä¸­ï¼‰ï¼Œæ”¹ç”¨å¦‚ä¸‹æ–¹å¼ï¼š

```
class VideoInAppWebDetailPage extends StatefulWidget {
  final String? defaultUrl;

  const VideoInAppWebDetailPage({super.key, this.defaultUrl});

  @override
  State<VideoInAppWebDetailPage> createState() => _VideoInAppWebDetailPageState();
}

class _VideoInAppWebDetailPageState extends State<VideoInAppWebDetailPage> {
  late String url;

  @override
  void initState() {
    super.initState();
    url = widget.defaultUrl ?? '';
  }

  @override
  Widget build(BuildContext context) {
    return WebView(
      initialUrl: url,
      // ...
    );
  }
}
```

è¿™æ ·æ— è®ºå¤–éƒ¨ `Get.arguments` æ€ä¹ˆå˜ï¼Œè¿™ä¸€é¡µéƒ½åªè®¤è‡ªå·±ä¼ è¿›æ¥çš„å€¼ã€‚

* * *

## âœ… ç»“è¯­

ä½ è§‚å¯Ÿåˆ°çš„ç½‘é¡µAè¢«è§¦å‘ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œæ˜¯ Flutter åœ¨ä½¿ç”¨ `IndexedStack` å’Œ `Navigator` æ—¶å› ä¾èµ–å˜åŒ–å¯¼è‡´çš„æ­£å¸¸ç°è±¡ã€‚**è€Œå†…å®¹æœªå˜æ˜¯å› ä¸ºçŠ¶æ€æ²¡å˜ï¼Œé¡µé¢ä¹Ÿæ²¡çœŸæ­£ rebuild å†…å®¹ï¼Œåªæ˜¯ç”Ÿå‘½å‘¨æœŸæ–¹æ³•è¢«è§¦å‘ã€‚**

å¦‚ä½ å¸Œæœ›å½»åº•é¿å…è¿™ç§å¹²æ‰°ï¼Œå¯ä»¥é¿å…åœ¨ `didChangeDependencies` æˆ– `build` ä¸­ä¾èµ– `Get.arguments`ï¼Œè€Œæ˜¯åªé€šè¿‡æ„é€ å‚æ•°ï¼ˆå¦‚ä» `RouteSettings.arguments` é‡Œæå‰æ‹¿ï¼‰è¿›è¡Œä¸€æ¬¡æ€§ä¼ é€’ã€‚è¿™æ ·å°±ä¸ä¼šè¢« `Get` çš„å…¨å±€ arguments æ±¡æŸ“ã€‚



ç›®å‰çš„**ç—›ç‚¹**æ˜¯ï¼š
**ä½¿ç”¨åŒä¸€ä¸ªé¡µé¢ç±» VideoInAppWebDetailPageï¼Œé€šè¿‡ arguments åˆ‡æ¢ä¸åŒå†…å®¹æ—¶ï¼Œå¦‚æœé¡µé¢æ˜¯åœ¨ `IndexedStack` æˆ–ç¼“å­˜ä¸­ï¼Œç”Ÿå‘½å‘¨æœŸä¸ä¼šé‡æ–°åˆå§‹åŒ–ï¼Œå°±ä¸ä¼šé‡æ–°åŠ è½½å†…å®¹**ï¼Œå¿…é¡»æ‰‹åŠ¨åˆ¤æ–­ arguments å†ç”¨ `loadUrl()` å»åˆ·æ–°ã€‚

## æ ¸å¿ƒé—®é¢˜

ä½ é—®çš„å…¶å®æ˜¯è¿™ä¸ªé—®é¢˜ï¼š

> å½“ä½¿ç”¨ `Get.toNamed(..., arguments: {...})` è·³è½¬åˆ°ä¸€ä¸ªã€Œç±»ç›¸åŒã€ä½†å‚æ•°ä¸åŒã€çš„é¡µé¢æ—¶ï¼Œå¦‚ä½•ç¡®ä¿é¡µé¢èƒ½è‡ªåŠ¨åŠ è½½å¯¹åº”å‚æ•°å¯¹åº”çš„å†…å®¹ï¼Ÿ

* * *

## â—ä¸ºä»€ä¹ˆç°åœ¨çš„æ–¹å¼æ˜¯æœ‰éšæ‚£çš„ï¼Ÿ

å› ä¸ºï¼š

-   `Get.arguments` æ˜¯å…¨å±€çš„ï¼Œä¼šå—åˆ°å…¶ä»–é¡µé¢è·³è½¬å‚æ•°å½±å“ï¼ˆæ­£å¦‚ä½ ç°åœ¨ç¢°åˆ°çš„ï¼‰
-   `initialUrlRequest` ä»…åœ¨ `InAppWebView` ç¬¬ä¸€æ¬¡åˆå§‹åŒ–æ—¶ç”Ÿæ•ˆï¼Œä¸ä¼šå› ä¸º widget æ›´æ–°è€Œè‡ªåŠ¨é‡æ–°åŠ è½½ç½‘é¡µ
-   å› ä¸º `IndexedStack` ç¼“å­˜äº†é¡µé¢ï¼Œ`initState()` ä¸ä¼šå†æ‰§è¡Œï¼Œè€Œæ˜¯åªè°ƒç”¨ `didChangeDependencies`

* * *

## âœ… ç†æƒ³çš„ä¼˜åŒ–ç›®æ ‡

ä½ å¸Œæœ›è¾¾åˆ°çš„ç›®æ ‡æ˜¯ï¼š

> âœ… ä½¿ç”¨åŒä¸€ä¸ªé¡µé¢ç±»ï¼ˆæ¯”å¦‚ `VideoInAppWebDetailPage`ï¼‰ï¼Œä½†åœ¨æ¯æ¬¡ä»ä¸‹è½½é¡µè·³åˆ°ä¸åŒçš„è§†é¢‘æ—¶éƒ½èƒ½åŠ è½½æ­£ç¡®çš„ URLï¼Œä¸”ä¸ä¼šè¢«ç¼“å­˜é¡µé¢æ±¡æŸ“æˆ–å¼‚å¸¸æ›´æ–°ã€‚